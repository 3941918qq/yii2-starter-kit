# Codeception Test Suite Configuration

# suite for acceptance tests.
# perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

class_name: AcceptanceTester
modules:
  enabled:
    - Db
    - tests\codeception\frontend\AcceptanceHelper
    - tests\codeception\common\_support\FixtureHelper
    #- PhpBrowser
    - WebDriver
  config:
    Db:
      dsn: %TEST_DB_DSN%
      user: %TEST_DB_USERNAME%
      password: %TEST_DB_PASSWORD%
      populate: true
      cleanup: true
      dump: ../common/_data/data.sql
    #PhpBrowser:
    #  url: 'http://localhost:%TEST_HTTP_PORT%'
    REST:
     url: 'http://localhost:%TEST_HTTP_PORT%/frontend/web/index-test.php/api/v1/'
    WebDriver:
      url: 'http://localhost:%HTTP_PORT%' # our url base
      browser: phantomjs
      window_size: 1280x720
      capabilities:
        unexpectedAlertBehaviour: 'accept'
      port: %TEST_PHANTOM_PORT%
    Yii2:
      configFile: '../config/frontend/functional.php'
